
{% extends "base.html" %}
{% load static %}

{% block head_extra_meta %}{# <meta> tags go here #}{% endblock %}

{% block head_css %}{# additional <link> tags for CSS #}{% endblock %}

{% block head_js %}{# <script defer> tags for deferred JS only #}{% endblock head_js %}

{% block head_title %}{# Page title. Base page has " | VentApp"; follow this pattern for sub-page titling #}{% endblock %}

{# Add classes to the main <div> wrapping body content #}
{% block body_container_classes %}mx-0 w-100 mw-100{% endblock %}

{% block body_content %}
{# All your page content goes here! #}

 
 <div class="container-fluid h-100">
      <div class="row mb-2"   >
         <div class= "col">
            <div class="btn-group" role="group" aria-label="Basic radio toggle button group">

               <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off"    {% if section == 'current_Operation' %}checked{% endif %} >
               <label class="btn btn-outline-secondary" for="btnradio1" onclick="sectionSelector('current_Operation')"  >Current Operation </label>

               <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off"  {% if section == 'last_Measurement' %}checked{% endif %} >
               <label class="btn btn-outline-secondary" for="btnradio2"  onclick="sectionSelector('last_Measurement')"  >Last Measurement</label>

               <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off"  {% if section == 'average_Curve' %}checked{% endif %} >
               <label class="btn btn-outline-secondary" for="btnradio3" onclick="sectionSelector('average_Curve')" >Average Curve</label>
            
            </div>
      </div>
      
   </div>



   <div class="row mb-2"   >
      <div class= "col">


            <div class="btn-group" role="group" aria-label="Basic radio toggle button group" id  = "chart_type"> 

               <input type="radio" class="btn-check" name="btnradioChart" id="t_preassure" autocomplete="off"   checked >
               <label class="btn btn-outline-secondary" for="t_preassure"  onclick="changeDataChart({{total_pressure |safe}})" >Total Pressure</label>

               <input type="radio" class="btn-check" name="btnradioChart" id="s_pressure" autocomplete="off"  >
               <label class="btn btn-outline-secondary" for="s_pressure"    onclick="changeDataChart({{static_pressure |safe}})" >Static Pressure</label>

               <input type="radio" class="btn-check" name="btnradioChart" id="power" autocomplete="off" >
               <label class="btn btn-outline-secondary" for="power" onclick="changeDataChart({{power |safe}})" >Power</label>

            </div>
      </div>

   </div>



      <div class="row " style="height: calc(100% - 40px);">
         <div class="col-9 border-end border-3 border-dark h-100">
               {% include "widgets/fanRealCurve/graphic.html" %}
         </div>

         <div class="col-3">
            <div class="row justify-content-center align-items-center">
               <div class="col-12 col-md-10 col-xl-8">
                  {#  Model #}
                  <div class="list-group border border-3 border-warning p-3 mb-2">
                     <div class="row">
                        <p class="text-center fs-4 fw-bold m-0 ">Fan 1</p>
                     </div>
                  </div>
                  {#  Model #}
                  <div class="list-group border border-3 border-warning p-3 mb-2">
                     <div class="row">
                        <p class="text-start fs-5 m-0">JetStream AXT0800</p>
                     </div>
                  </div>
                  {#  Blade angle #}
                  <div class="list-group border border-3 border-warning p-3 mb-2">
                     <div class="row">
                        <p class="text-start fs-5 m-0">Density</p>
                        <p class="text-start fs-6 ps-4 m-1">&#8226; 1.08 kg/m&#179;</p>
                     </div>
                  </div>

               </div>
            </div>
         </div>
      </div>
   </div>
{% endblock %}

{% block body_js %}
{# Inline or other types of JS <script> tags here. #}
{# Remember we've already got jQuery and Bootstrap bundle with Popper loaded. #}
   <script src="{% static 'js/d3.v7.js' %}"></script>
   <script src="{% static 'js/scatterplot.js' %}"></script>

   <script type="text/javascript">
      
      const dataV = {{ total_pressure | safe }};

      

      document.addEventListener("DOMContentLoaded", function() { createChartScatterplot(dataV); });

      
      // Cambiar vista
      function changeChartType(type) {
         window.location.href = "{% url 'fanreal:fanreal' %}?chart_type=" + type;
      }
      
      function sectionSelector(section) {
         window.location.href = "{% url 'fanreal:fanreal' %}?section=" + section;
      }

      function changeDataChart(dataV){
         console.log('update')
         updateData(dataV);
      }


      
   </script> 
{% endblock %}

