<style>
.semaforo-luz {
  transition: box-shadow 0.3s ease;
}

.semaforo-luz:hover {
  box-shadow: 8px 8px 8px rgba(0, 0, 0, 0.3);
}
</style>
<div class="row mb-4" style="height: 25vh; width: 100%;">
  <!-- Primera columna: Semáforo -->
  <div class="col-md-6">
    <div class="card h-100 shadow-lg">
      <div class="d-flex flex-row align-items-center justify-content-around" style="height: 100%;">
        <!-- Luz roja -->
        <div id="luz-roja" class="semaforo-luz bg-secondary rounded-circle" style="width: 100px; height: 100px; cursor: pointer;" data-bs-toggle="modal" data-bs-target="#modalSemaforo" onclick="mostrarContenidoModal('rojo')"></div>
        <!-- Luz amarilla -->
        <div id="luz-amarilla" class="semaforo-luz bg-secondary rounded-circle" style="width: 100px; height: 100px; cursor: pointer;" data-bs-toggle="modal" data-bs-target="#modalSemaforo" onclick="mostrarContenidoModal('amarillo')"></div>
        <!-- Luz verde -->
        <div id="luz-verde" class="semaforo-luz bg-success rounded-circle" style="width: 100px; height: 100px; cursor: pointer;" data-bs-toggle="modal" data-bs-target="#modalSemaforo" onclick="mostrarContenidoModal('verde')"></div>
      </div>
    </div>
  </div>

  <!-- Segunda columna: Card vacía con borde primary -->
  <div class="col-md-6">
    <div class="card border border-primary h-100">
      <!-- Card vacía -->
    </div>
  </div>
</div>

<!-- Modal Semáforo -->
<div class="modal fade" id="modalSemaforo" tabindex="-1" aria-labelledby="modalSemaforoLabel" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalSemaforoLabel">Luz del Semáforo</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="contenidoModal">
          {% include "widgets/home/detalle_semaforo.html" %}
      </div>
    </div>
  </div>
</div>

<script>
  // Función para cambiar el color de la luz del semáforo
  function cambiarSemaforo(color) {
    // Apagar todas las luces
    document.getElementById('luz-roja').classList.remove('bg-danger');
    document.getElementById('luz-amarilla').classList.remove('bg-warning');
    document.getElementById('luz-verde').classList.remove('bg-success');

    // Poner en estado inactivo (gris)
    document.getElementById('luz-roja').classList.add('bg-secondary');
    document.getElementById('luz-amarilla').classList.add('bg-secondary');
    document.getElementById('luz-verde').classList.add('bg-secondary');

    // Encender la luz correspondiente según el color pasado
    if (color === 'rojo') {
      document.getElementById('luz-roja').classList.remove('bg-secondary');
      document.getElementById('luz-roja').classList.add('bg-danger');
    } else if (color === 'amarillo') {
      document.getElementById('luz-amarilla').classList.remove('bg-secondary');
      document.getElementById('luz-amarilla').classList.add('bg-warning');
    } else if (color === 'verde') {
      document.getElementById('luz-verde').classList.remove('bg-secondary');
      document.getElementById('luz-verde').classList.add('bg-success');
    }

  }

  // Función para mostrar el contenido adecuado en el modal
  function mostrarContenidoModal(color) {
    get_semaforo()
    let contenidoModal = document.getElementById('contenidoModal');
    let modalLabel = document.getElementById('modalSemaforoLabel');

      modalLabel.textContent = 'Color ' + color;
      contenidoModal.innerHTML =  `{% include "widgets/home/detalle_semaforo.html" %}`;
  }

  // Cambiar color del semáforo a verde al iniciar
  
</script>
