
{% extends "base.html" %}
{% load static %}

{% block head_extra_meta %}{# <meta> tags go here #}{% endblock %}

{% block head_css %}{# additional <link> tags for CSS #}{% endblock %}

{% block head_js %}{# <script defer> tags for deferred JS only #}{% endblock head_js %}

{% block head_title %}{# Page title. Base page has " | VentApp"; follow this pattern for sub-page titling #}{% endblock %}

{# Add classes to the main <div> wrapping body content #}
{% block body_container_classes %}mx-0 w-100 mw-100{% endblock %}

{% block body_content %}
{# All your page content goes here! #}
   <div class="container-fluid h-100">
      <div class="row " style="height: calc(100% - 40px);">
         <div class="col-8 border-end border-3 border-dark h-100">
            {% if chart_type == 'total_pressure' %}
               {% include "widgets/fanRealCurve/totalPreassure.html" %}
            {% elif chart_type == 'static_pressure' %}
               {% include "widgets/fanRealCurve/staticPreassure.html" %}
            {% elif chart_type == 'power' %}
               {% include "widgets/fanRealCurve/power.html" %}
            {% else %}
               {% include "widgets/fanRealCurve/totalPreassure.html" %}
            {% endif %}
         </div>

         <div class="col-4">
            <div class="row justify-content-center align-items-center">
               <div class="col-12 col-md-10 col-xl-8">
                  {#  Model #}
                  <div class="list-group border border-3 border-warning p-3 mb-2">
                     <div class="row">
                        <p class="text-center fs-4 fw-bold m-0 ">Fan 1</p>
                     </div>
                  </div>
                  {#  Model #}
                  <div class="list-group border border-3 border-warning p-3 mb-2">
                     <div class="row">
                        <p class="text-start fs-5 m-0">JetStream AXT0800</p>
                     </div>
                  </div>
                  {#  Blade angle #}
                  <div class="list-group border border-3 border-warning p-3 mb-2">
                     <div class="row">
                        <p class="text-start fs-5 m-0">Density</p>
                        <p class="text-start fs-6 ps-4 m-1">&#8226; 1.08 kg/m&#179;</p>
                     </div>
                  </div>

               </div>
            </div>
         </div>
      </div>
   </div>
{% endblock %}

{% block body_js %}
{# Inline or other types of JS <script> tags here. #}
{# Remember we've already got jQuery and Bootstrap bundle with Popper loaded. #}
   <script src="{% static 'js/d3.v7.js' %}"></script>
   <script src="{% static 'js/scatterplot.js' %}"></script>

   <script type="text/javascript">
      
      const dataV = {{ scatter_data|safe }};
      console.log(Object.keys(dataV[0]));
      // Call the function initially
      document.addEventListener("DOMContentLoaded", function() { createChartScatterplot(dataV); });
      // Call the function on window resize
      window.addEventListener("resize", function() { updateChart(dataV); });
      // Cambiar vista
      function changeChartType(type) {
         window.location.href = "{% url 'fanreal:fanreal' %}?chart_type=" + type;
      }
   </script> 
{% endblock %}

